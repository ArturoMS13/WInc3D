#!/usr/bin/env python

"""
Python script that reads from the probe file
"""
import numpy as np
import scipy as scp
import matplotlib.pyplot as plt
import argparse

# ====================================
# Parser Arguments
# ====================================
parser = argparse.ArgumentParser(description="Script to read from the velocity probes probe******.dat files")
parser.add_argument("-v","--verbose",action="store_true",help="Print location")
parser.add_argument("-p","--plot",action="store_true",help="Plots the wake profiles")
parser.add_argument("-w","--write",action="store_true",help="Write results in a .csv file")
parser.add_argument("SPINUPSTEPS", type=int, help="Number of time step until spinup time")
parser.add_argument("SAMPLINGSTEPS", type=int, help="Number of sampling steps after spinup time")

args = parser.parse_args()
T=args.SPINUPSTEPS
M=args.SAMPLINGSTEPS

N=15;
U=np.zeros((M,N));
V=np.zeros((M,N));
W=np.zeros((M,N));

for i in range(M):
    probeNumber=T+i+1
    A=np.genfromtxt('probe'+str(probeNumber).zfill(6),skip_header=1,delimiter=',')
    print(A)
    for j in range(N):
        U[i,j]=A[j,4];
        V[i,j]=A[j,5];
        W[i,j]=A[j,6];
      
plt.plot(U[:,1],'-bs')
plt.show()
